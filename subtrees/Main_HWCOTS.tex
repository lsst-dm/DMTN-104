%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%
%
% Document:     Data Management  product tree
%
%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%
\documentclass{article}
\usepackage{times,layouts}
\usepackage{tikz,hyperref,amsmath}
\usetikzlibrary{positioning,arrows,shapes,decorations.shapes,shapes.arrows}
\usetikzlibrary{backgrounds,calc}
\usepackage[paperwidth=1077.0pt,paperheight=688pt,
left=-2mm,top=3mm,bottom=0mm,right=0mm,
noheadfoot,marginparwidth=0pt,includemp=false,
textwidth=30cm,textheight=50mm]{geometry}
\newcommand\showpage{%
\setlayoutscale{0.5}\setlabelfont{\tiny}\printheadingsfalse\printparametersfalse
\currentpage\pagedesign}
\hypersetup{pdftitle={Data Management products }, pdfsubject={Diagram illustrating the
                products in LSST Data Management }, pdfauthor={Extracted from MagicDraw}}
\tikzstyle{tbox}=[rectangle,text centered, text width=30mm]
\tikzstyle{wbbox}=[rectangle, rounded corners=3pt, draw=black, top color=blue!50!white,
                    bottom color=white, very thick, minimum height=40pt, inner sep=2pt,
                    text centered, text width=30mm]
\tikzstyle{pbox}=[rectangle, rounded corners=3pt, draw=black, top
 color=yellow!50!white, bottom color=white, very thick,
 minimum height=36pt, inner sep=3pt, text centered, text width=35mm]
\tikzstyle{pline}=[-, thick]
\begin{document}
\begin{tikzpicture}[node distance=0mm]


\node (COTS) [pbox, 
] {\textbf{COTS SW
} };\node [below right] at (COTS.north west) {\footnotesize \color{blue}} ;

\node (CILOGON) [pbox,below right=6pt and -14pt of COTS] {\textbf{CILogon
} };\node [below right] at (CILOGON.north west) {\footnotesize \color{blue}} ;

 \draw[pline] (COTS.south) -| ++(0,0) |- (CILOGON.west); 
\node (DOCKER) [pbox,below=6pt of CILOGON] {\textbf{Docker
} };\node [below right] at (DOCKER.north west) {\footnotesize \color{blue}} ;

 \draw[pline] (COTS.south) -| ++(0,0) |- (DOCKER.west); 
\node (GPFS) [pbox,below=6pt of DOCKER] {\textbf{Gen. P. File System
} };\node [below right] at (GPFS.north west) {\footnotesize \color{blue}} ;

 \draw[pline] (COTS.south) -| ++(0,0) |- (GPFS.west); 
\node (GRAFANA) [pbox,below=6pt of GPFS] {\textbf{Grafana
} };\node [below right] at (GRAFANA.north west) {\footnotesize \color{blue}} ;

 \draw[pline] (COTS.south) -| ++(0,0) |- (GRAFANA.west); 
\node (HTCONDOR) [pbox,below=6pt of GRAFANA] {\textbf{HTCondor
} };\node [below right] at (HTCONDOR.north west) {\footnotesize \color{blue}} ;

 \draw[pline] (COTS.south) -| ++(0,0) |- (HTCONDOR.west); 
\node (K8S) [pbox,below=6pt of HTCONDOR] {\textbf{Kubernetes
} };\node [below right] at (K8S.north west) {\footnotesize \color{blue}} ;

 \draw[pline] (COTS.south) -| ++(0,0) |- (K8S.west); 
\node (ORACLE) [pbox,below=6pt of K8S] {\textbf{Oracle
} };\node [below right] at (ORACLE.north west) {\footnotesize \color{blue}} ;

 \draw[pline] (COTS.south) -| ++(0,0) |- (ORACLE.west); 
\node (PTH) [pbox,below=6pt of ORACLE] {\textbf{Python
} };\node [below right] at (PTH.north west) {\footnotesize \color{blue}} ;

 \draw[pline] (COTS.south) -| ++(0,0) |- (PTH.west); 
\node (PUPPET) [pbox,below=6pt of PTH] {\textbf{Puppet
} };\node [below right] at (PUPPET.north west) {\footnotesize \color{blue}} ;

 \draw[pline] (COTS.south) -| ++(0,0) |- (PUPPET.west); 
\node (RUCIO) [pbox,below=6pt of PUPPET] {\textbf{Rucio
} };\node [below right] at (RUCIO.north west) {\footnotesize \color{blue}} ;

 \draw[pline] (COTS.south) -| ++(0,0) |- (RUCIO.west); 
\node (SECURITY) [pbox,below=6pt of RUCIO] {\textbf{IT Security
} };\node [below right] at (SECURITY.north west) {\footnotesize \color{blue}} ;

 \draw[pline] (COTS.south) -| ++(0,0) |- (SECURITY.west); 
\node (VSPHERE) [pbox,below=6pt of SECURITY] {\textbf{vSphere
} };\node [below right] at (VSPHERE.north west) {\footnotesize \color{blue}} ;

 \draw[pline] (COTS.south) -| ++(0,0) |- (VSPHERE.west); 
\node (HWCOMP) [pbox, 
right=96pt of COTS] {\textbf{Compute Nodes
} };\node [below right] at (HWCOMP.north west) {\footnotesize \color{blue}} ;

\node (HWNET) [pbox, 
right=43pt of HWCOMP] {\textbf{Network Nodes
} };\node [below right] at (HWNET.north west) {\footnotesize \color{blue}} ;

\node (HWSTOR) [pbox, 
right=43pt of HWNET] {\textbf{Storage Nodes
} };\node [below right] at (HWSTOR.north west) {\footnotesize \color{blue}} ;

\node (LLSW) [pbox, 
right=43pt of HWSTOR] {\textbf{Low Level SW
} };\node [below right] at (LLSW.north west) {\footnotesize \color{blue}} ;

\node (CENTOS) [pbox,below right=6pt and -14pt of LLSW] {\textbf{OS (e.g.)
} };\node [below right] at (CENTOS.north west) {\footnotesize \color{blue}} ;

 \draw[pline] (LLSW.south) -| ++(0,0) |- (CENTOS.west); 
\node (THPL) [pbox, 
right=96pt of LLSW] {\textbf{Third Party Libs
} };\node [below right] at (THPL.north west) {\footnotesize \color{blue}} ;

\node (BOOST) [pbox,below right=6pt and -14pt of THPL] {\textbf{Boost
} };\node [below right] at (BOOST.north west) {\footnotesize \color{blue}} ;

 \draw[pline] (THPL.south) -| ++(0,0) |- (BOOST.west); 
\node (FFAA) [pbox,below=6pt of BOOST] {\textbf{Firefly API A.
} };\node [below right] at (FFAA.north west) {\footnotesize \color{blue}} ;

 \draw[pline] (THPL.south) -| ++(0,0) |- (FFAA.west); 
\node (FIREFLY) [pbox,below=6pt of FFAA] {\textbf{Firefly
} };\node [below right] at (FIREFLY.north west) {\footnotesize \color{blue}1.02C.05.06} ;

 \draw[pline] (THPL.south) -| ++(0,0) |- (FIREFLY.west); 
\node (JH3) [pbox,below=6pt of FIREFLY] {\textbf{Jupyterhub
} };\node [below right] at (JH3.north west) {\footnotesize \color{blue}} ;

 \draw[pline] (THPL.south) -| ++(0,0) |- (JH3.west); 
\node (JL3) [pbox,below=6pt of JH3] {\textbf{Jupyterlab
} };\node [below right] at (JL3.north west) {\footnotesize \color{blue}} ;

 \draw[pline] (THPL.south) -| ++(0,0) |- (JL3.west); 
\node (HWCOTS) [wbbox, above=43pt of HWNET]{\textbf{Hardware and COTS Products}};
 \draw[pline]   (COTS.north) -- ++(0.0,0.5) -| (HWCOTS.south) ; 
 \draw[pline]   (HWCOMP.north) -- ++(0.0,0.5) -| (HWCOTS.south) ; 
 \draw[pline]   (HWNET.north) -- ++(0.0,0.5) -| (HWCOTS.south) ; 
 \draw[pline]   (HWSTOR.north) -- ++(0.0,0.5) -| (HWCOTS.south) ; 
 \draw[pline]   (LLSW.north) -- ++(0.0,0.5) -| (HWCOTS.south) ; 
 \draw[pline]   (THPL.north) -- ++(0.0,0.5) -| (HWCOTS.south) ; 

\end{tikzpicture}
\end{document}
